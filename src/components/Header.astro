---
import Logo from "../assets/icons/logo.svg";
---

<header
    class="px-8 py-6 fixed z-50 w-full flex items-center justify-between transition-all duration-300 ease-in-out bg-black bg-opacity-90 text-white shadow-md text-lg"
    id="header"
>
    <div class="flex items-center">
        <a href="/" aria-label="Accueil">
            <Logo class="h-12" />
        </a>
    </div>

    <nav class="hidden lg:flex gap-12 uppercase font-bold">
        <a href="/festival" class="hover:text-gray-400 transition">À propos</a>
        <a href="/films" class="hover:text-gray-400 transition">Films</a>
        <a href="/activites" class="hover:text-gray-400 transition">Activités</a
        >
        <a href="/invites" class="hover:text-gray-400 transition">Invités</a>
        <a href="/infos-pratiques" class="hover:text-gray-400 transition"
            >Infos Pratiques</a
        >
        <a href="/contact" class="hover:text-gray-400 transition">Contact</a>
        <a
            href="/inscription"
            class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition"
            >S'inscrire</a
        >
        <a
            href="/connexion"
            class="px-4 py-2 border border-white text-white rounded-lg hover:bg-white hover:text-black transition"
            >Connexion</a
        >
    </nav>

    <button
        class="lg:hidden flex flex-col items-center"
        id="menu-btn"
        aria-label="Menu"
        aria-controls="menu"
        aria-expanded="false"
    >
        <span class="block w-10 h-1 bg-white mb-1"></span>
        <span class="block w-10 h-1 bg-white mb-1"></span>
        <span class="block w-10 h-1 bg-white"></span>
    </button>
</header>

<nav
    id="menu"
    class="fixed top-0 left-0 w-full h-screen bg-black bg-opacity-95 text-white flex flex-col items-center justify-center gap-8 text-2xl hidden z-40"
>
    <a href="/festival" class="hover:text-gray-400 transition">À propos</a>
    <a href="/films" class="hover:text-gray-400 transition">Films</a>
    <a href="/activites" class="hover:text-gray-400 transition">Activités</a>
    <a href="/invites" class="hover:text-gray-400 transition">Invités</a>
    <a href="/infos-pratiques" class="hover:text-gray-400 transition"
        >Infos Pratiques</a
    >
    <a href="/contact" class="hover:text-gray-400 transition">Contact</a>
    <a
        href="/inscription"
        class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition"
        >S'inscrire</a
    >
    <a
        href="/connexion"
        class="px-4 py-2 border border-white text-white rounded-lg hover:bg-white hover:text-black transition"
        >Connexion</a
    >
</nav>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const toggle = document.querySelector("#menu-btn");
        const nav = document.querySelector("#menu");
        const header = document.querySelector("#header");

        toggle.addEventListener("click", () => {
            const isOpen = nav.classList.contains("hidden");
            toggle.setAttribute("aria-expanded", String(isOpen));
            nav.classList.toggle("hidden", !isOpen);
            nav.classList.toggle("flex", isOpen);
        });

        window.addEventListener("scroll", () => {
            if (window.scrollY > 50) {
                header.classList.add("bg-opacity-100", "shadow-lg", "py-4");
            } else {
                header.classList.remove("bg-opacity-100", "shadow-lg", "py-4");
            }
        });
    });
</script>
